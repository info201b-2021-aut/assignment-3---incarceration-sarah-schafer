setwd("~/Desktop/assignment-3---incarceration-sarah-schafer")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
install.packages('patchwork')
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
View(race_total_over_time)
View(race_total_over_time)
View(race_total_over_time)
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
total_jail_time_plot
View(data)
ggplot(data = var_comp_df) + geom_point(aes(x = black_pop_15to64, y = total_jail_pop, col = urbanicity))
library(ggplot)
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
ggplot(data = var_comp_df) + geom_point(aes(x = black_pop_15to64, y = total_jail_pop, col = urbanicity))
ggplot(data = var_comp_df) + geom_point(aes(x = white_pop_15to64, y = total_jail_pop, col = urbanicity))
ggplot(data = var_comp_df) + geom_point(aes(x = white_pop_15to64, y = total_jail_pop, col = urbanicity)) + geom_smooth(method = lm)
ggplot(data = var_comp_df, aes(x = white_pop_15to64, y = total_jail_pop)) + geom_point(aes(col = urbanicity)) + geom_smooth(method = lm)
ggplot(data = var_comp_df, aes(x = black_pop_15to64, y = total_jail_pop)) + geom_point(aes(col = urbanicity)) + geom_smooth(method = lm)
var_comp_charts <- total_jail_to_black_pop + total_jail_to_white_pop
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
View(var_comp_charts)
View(var_comp_charts)
View(var_comp_charts)
var_comp_charts
var_comp_df <- df_2018 %>%
select(black_pop_15to64, white_pop_15to64, urbanicity, total_jail_pop) %>%
filter(urbanicity != "")
View(var_comp_df)
var_comp_df[is.na(var_comp_df)] <- 0
total_jail_to_black_pop <- ggplot(data = var_comp_df, aes(x = black_pop_15to64, y = total_jail_pop)) +
geom_point(aes(col = urbanicity)) +
geom_smooth(method = lm) +
theme(aspect.ratio = 1)
total_jail_to_black_pop
install.packages("ggpubr")
max(var_comp_df$black_pop_15to64)
max(var_comp_df$white_pop_15to64)
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
# What is the proportion of the total population that is white?
white_prop_total <- 100 * sum(df_2018$white_pop_15to64, na.rm = TRUE) / sum(df_2018$total_pop_15to64, na.rm = TRUE)
# What is the proportion of the jailed population that is white?
white_prop_jail <- 100 * sum(df_2018$white_jail_pop, na.rm = TRUE) / total_jail_2018
# How many times greater is the proportion of the black jailed population to the
# proportion of the black general population?
white_prop_comp <- black_prop_jail/black_prop_total
white_prop_comp <- white_prop_jail/white_prop_total
library(maps)
map_df <- map_data("county")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
View(map_df)
county.fips
View(data)
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
black_pop_map
ggplot(map_incarceration_2018) +
geom_polygon(
mapping = aes(x = long, y = lat, fill = black_pop_15to64),
color = "white",
size = .1
) +
coord_map() +
scale_fill_continuous(low = "#ffffff", high = "Blue") +
labs(fill = "Black Population, Ages 15-64")
black_pop_map <- ggplot(data = map_incarceration_2018) +
geom_polygon(
mapping = aes(x = long, y = lat, fill = black_pop_15to64),
color = "white",
size = .1
) +
coord_map() +
scale_fill_continuous(low = "#ffffff", high = "Blue") +
labs(fill = "Black Population, Ages 15-64")
black_pop_map
length(filter(df_2018, is.na(black_pop_15to64))
)
black_pop_map <- ggplot(data = map_incarceration_2018) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group, fill = black_pop_15to64),
color = "white",
size = .1
) +
coord_map() +
scale_fill_continuous(low = "#ffffff", high = "Blue") +
labs(fill = "Black Population, Ages 15-64")
black_pop_map
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
black_pop_map
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
black_pop_map
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
black_pop_map
View(df_2018)
View(map_incarceration_2018)
View(map_df)
View(fips_lat_long)
View(county_fips)
View(fips_lat_long)
map_df <- map_data("county")
map_df <- map_df %>%
unite(polyname, region, subregion, sep = ", ", remove = FALSE)
county_fips <- county.fips
map_df <- map_data("county")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
black_pop_map
install.packages(mapproj)
install.packages("mapproj")
black_pop_map <- ggplot() +
geom_polygon(
data = map_incarceration_2018,
mapping = aes(x = long, y = lat, group = group, fill = black_pop_15to64),
color = "black",
size = .1
) +
coord_map()+
scale_fill_gradientn(low = "white", high = "blue", trans = "log") +
labs(fill = "Black Population 15-64") +
blank_theme +
theme(legend.position = "bottom")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
help("scale_fill_continuous")
black_pop_map
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
jail_pop_map
ggplot() +
geom_polygon(
data = map_incarceration_2018,
mapping = aes(x = long, y = lat, group = group, fill = total_jail_pop),
color = "black",
size = .1
) +
coord_map()+
scale_fill_continuous(low = "white", high = "red", trans = "log") +
labs(fill = "Total Jail Population") +
blank_theme +
theme(legend.position = "bottom")
install.packages("waffle")
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
max(data$year)
waffle_jail_df <- filter(total_jail_over_time, year == 2018)
waffle_total_df <- filter(total_over_time, year == 2018)
ggplot(data = waffle_jail_df, mapping = aes(fill = "Race", values = "Total")) + geom_waffle()
library(waffle)
ggplot(data = waffle_jail_df, mapping = aes(fill = "Race", values = "Total")) + geom_waffle()
ggplot(data = waffle_jail_df, mapping = aes(fill = "Race", values = "Total")) + geom_waffle(n_rows = 8, size = 0.33, colour = "white")
waffle(waffle_jail_df)
waffle(waffle_jail_df$Total)
library(ggplot2)
ggplot(data = waffle_jail_df, mapping = aes(fill = "Race", values = "Total")) + geom_waffle(n_rows = 8, size = 0.33, colour = "white")
ggplot(data = waffle_jail_df, mapping = aes(fill = "Race", values = "Total")) + geom_waffle(n_rows = 8, size = 0.33, colour = "white") + theme_void()
help(geom_waffle)
install.packages("waffle", repos = "https://cinc.rud.is")
install.packages("waffle", repos = "https://cinc.rud.is")
ggplot(data = waffle_jail_df, mapping = aes(fill = "Race", values = "Total")) + geom_waffle(n_rows = 8, size = 0.33, colour = "white") + theme_void()
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
library(waffle)
ggplot(data = waffle_jail_df, mapping = aes(fill = "Race", values = "Total")) + geom_waffle(n_rows = 8, size = 0.33, colour = "white") + theme_void()
pie_jail_df <- filter(total_jail_over_time, year == 2018)
pie_total_df <- filter(total_over_time, year == 2018)
pie_jail <- ggplot(data = pie_jail_df, mapping = aes(x = "", y = Total, fill = Race)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0)
pie_jail
pie_jail_df <- total_jail_over_time %>%
filter(year == 2018) %>%
filter(Race != "total_jail_all")
pie_total_df <- filter(total_over_time, year == 2018)
pie_jail <- ggplot(data = pie_jail_df, mapping = aes(x = "", y = Total, fill = Race)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0)
pie_jail
pie_jail <- ggplot(data = pie_jail_df, mapping = aes(x = "", y = Total, fill = Race)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
theme_void()
pie_jail
pie_jail_df <- total_jail_over_time %>%
filter(year == 2018) %>%
filter(Race != "total_jail_all")
pie_total_df <- filter(total_over_time, year == 2018)
pie_jail <- ggplot(data = pie_jail_df, mapping = aes(x = "", y = Total, fill = Race)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
theme_void()
pie_total <- ggplot(data = pie_total_df, mapping = aes(x = "", y = Total, fill = Race)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
theme_void()
pie_total
View(data)
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
View(pie_total)
pie_total
pie_jail
source("~/Desktop/assignment-3---incarceration-sarah-schafer/analysis.R")
black_pop_map <- ggplot() +
geom_polygon(
data = map_incarceration_2018,
mapping = aes(x = long, y = lat, group = group, fill = black_pop_15to64),
color = "black",
size = .1
) +
coord_map()+
scale_fill_continuous(low = "white", high = "blue", trans = "log") +
labs(fill = "Black Population 15-64") +
blank_theme +
labs(title = "Distribution of Black Populations Across the U.S.  by Counties")
black_pop_map
